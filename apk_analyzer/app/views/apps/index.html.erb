<%= render "shared/header" %>
<b>Number of apps:</b> <%= @apps.where(project: "hcp3").size %>
<br>
<br>

<table id="example" class="table table-striped table-bordered" >
  <thead>
    <th id="package">Package</th>
    <th id="RO">RO</th>
    <th id="services">Services (<%= numServices(@apps.where(project: "hcp3")) %>)</th>
    <th id="receivers">Receivers (<%= numReceivers(@apps.where(project: "hcp3")) %>)</th>
    <th id="providers">Providers (<%= numProviders(@apps.where(project: "hcp3")) %>)</th>
    <th id="permissions">used permissions</th>
    <th id="permissions">created permissions</th>
    <th id="BOOT_COMPLETED">BOOT_COMPLETED (<%= @apps.where(project: "hcp3").where(bootCompleted: true).size %>)</th>
    <th id="persistent">Persistent (<%= @apps.where(project: "hcp3").where(persistent: true).size %>)</th>
    <th id="supplier">Supplier</th>
    <th id="deployment">Deployment</th>
  </thead>
  <tbody>
   <% @apps.each do |app|%>
   <tr>
     <td data-toggle="tooltip" data-html="true" title="<b>file:</b><%= app.filename %>" data-placement="left"><%= app.package %></td>
     <td><%= app.hasRO %></td>
     <td data-toggle="tooltip" title="<%= app.servicesList %>" data-placement="left"><%= app.numOfServices %></td>
     <td data-toggle="tooltip" title="<%= app.receiversList %>" data-placement="left"><%= app.numOfReceivers %></td>
     <td data-toggle="tooltip" title="<%= app.provdersList %>" data-placement="left"><%= app.numOfProviders %></td>
     <td data-toggle="tooltip" title="<%= app.usedPermissionsList %>" data-placement="left"><%= app.usedPermissions %></td>
     <td data-toggle="tooltip" title="<%= app.createdPermissionsList %>" data-placement="left"><%= app.createdPermissions %></td>
     <td id="<%= app.bootCompleted? ? "redcell" : "" %>"><%= app.bootCompleted %></td>
     <td id="<%= app.persistent? ? "orangecell" : "" %>"><%= app.persistent %></td>
     <td><%= getSupplier(app.package) %>
     <td><%= app.deployment %></td>
   </tr>
   <% end %>
   </tbody>
</table>
